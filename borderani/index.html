<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>底部动画</title>
    <style>
        * {
            margin:0;
            padding: 0;
        }
        button {
            border: none;
    
            padding: 5px 10px;
            color:#fff;
            background: #ff7800;
            cursor: pointer;
        }
        input,button,select,textarea{
            /* 去掉点击样式 */
            outline:none;
        }
        button:active {
            opacity: 0.6;
        }

        .container {
            width:50%;
            margin: 100px auto;
            
        }
        .border1 {
            position: relative;
            cursor: pointer;
            width: auto;
            
        }
        .border1::before {
            width: 100px;
            height: 2px;
            background: red;
            content: '';
            position: absolute;
            bottom:-10px;
            left:20px;
            transform: scale(0);
            transition: transform 1s;
            transform-origin: right center;
            

        }
        .border1:hover::before{
            transform: scale(1);
            transform-origin: left center;
        }

        /* 右侧固定，左侧自适应布局 */
        .pageinput {
            width:100%;
            overflow: hidden;
            clear: both;
            margin-top: 30px;
        }
        .pageinput .right {
            float: right;
            width: 100px;
            height: 30px;
            background: #ff7800;
            color:#fff;

        }
        .pageinput .left {
            margin-right: 110px;
            
        }
        /* .pageinput {
            width:100%;
            overflow: hidden;
            clear: both;
            margin-top: 30px;
            display: table;
        }
        .pageinput .right {
            display: table-cell;
            width: 100px;
            height: 30px;
            color:#fff;

        }
        .pageinput .right button {
            width: 100%;
            background: #ff7800;
        }
        .pageinput .left {
            display: table-cell;
     
            
        } */
        .pageinput .left input {
            width: 100%;
            height: 30px;
            
        }
        .pageinput .left input::-webkit-input-placeholder {
            color:#aaa;
            font-size: 12px;
        }
        /* .input {
            width: 100%;
            overflow: hidden;
            margin-top: 30px;
            display: flex;
        }
        .input input {
            
            height: 30px;
            flex:1;
            background: #aaa;
          
            
        }
        .input button{
            float: right;
            width: 100px;
            background: #ff7800;
            height: 30px;
            border: none;
            
        } */
        /* .page1 {
            width: 100%;
            height: auto;
            overflow: hidden;
            margin-top: 30px;
        }
        .page1 .sidebar {
            float: right;
            width: 100px;
            background: #aaa;
            height: 50px;
        }
        .page1 .content {
            margin-right: 110px;
            background: #ff7800;
            height: 100px;
        } */
        .page1 {
            width: 100%;
            height: auto;
            margin-top: 30px;
            display: table;
        }
        .page1 .sidebar {
            display: table-cell;
            width: 100px;
            background: #aaa;
            height: 50px;
        }
        .page1 .content {
            display: table-cell;
            background: #ff7800;
            height: 100px;
        }
        /* .page1 {
            width: 100%;
            height: auto;
            margin-top: 30px;
            position: relative;
        }
        .page1 .sidebar {
            
            width: 100px;
            background: #aaa;
            height: 50px;
            position: absolute;
            right:0;
            top:0;
            height: 100px;
        }
        .page1 .content {
            margin-right: 110px;
            background: #ff7800;
            height: 100px;
        } */
        /* .page1 {
            width: 100%;
            margin-top: 30px;
            position: relative;
            overflow: hidden;
        }
        .page1 .sidebar {
            
            width: 100px;
            background: #aaa;
            height: 100px;
            float: right;
            
        }
        .page1 .content {
            width: 100%;
            margin-left: -110px;
            float:left;
            height: 100px;
        }
        .page1 .content .content1 {
            background: #ff7800;
            height: 100px;
            margin-left: 110px;
        } */
        /* 右侧固定，左侧自适应布局结束 */
        .margin {
            margin:20px 0;
        }
        .page2-input {
            display: flex;
        }
        .page2 input{
            flex:1 1 auto;
            padding: 0 5px;
        }
        .page2 input::-webkit-input-placeholder {
            color:#aaa
        }
        .page2 button{
            
            flex:0 0 100px;
        }
        .page2-footer {
            line-height: 1.8
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="menu">

        </div>
        <div class="border1">鼠标放上来就会看到效果哦</div>
        <div class="pageinput">
            <div class="right"><button class="right">我是一个按钮</button></div>
            <div class="left"><input type="text" placeholder="哈哈哈哈"></div>
                   
        </div>
        <div class="page1">
            <div class="content">
                <div class="content1">1111</div>
            </div>
            <div class="sidebar"></div>
        </div>

        <h4 class="margin">搜索框匹配</h4>
        <div class="page2">
            <div class="page2-input">
                <input type="text" placeholder="输入你想要搜索的内容把">
                <button>搜索</button>
            </div>
            <div class="page2-footer">
                <article>庆历四年春，滕子京谪守巴陵郡。越明年，政通人和，百废具兴。乃重修岳阳楼，增其旧制，刻唐贤今人诗赋于其上。属予作文以记之。<br>予观夫巴陵胜状，在洞庭一湖。衔远山，吞长江，浩浩汤汤，横无际涯；朝晖夕阴，气象万千。此则岳阳楼之大观也，前人之述备矣。然则北通巫峡，南极潇湘，迁客骚人，多会于此，览物之情，得无异乎？<br>若夫淫雨霏霏，连月不开，阴风怒号，浊浪排空；日星隐耀，山岳潜形；商旅不行，樯倾楫摧；薄暮冥冥，虎啸猿啼。登斯楼也，则有去国怀乡，忧谗畏讥，满目萧然，感极而悲者矣。至若春和景明，波澜不惊，上下天光，一碧万顷；沙鸥翔集，锦鳞游泳；岸芷汀兰，郁郁青青。而或长烟一空，皓月千里，浮光跃金，静影沉璧，渔歌互答，此乐何极！登斯楼也，则有心旷神怡，宠辱偕忘，把酒临风，其喜洋洋者矣。<br>嗟夫！予尝求古仁人之心，或异二者之为，何哉？不以物喜，不以己悲；居庙堂之高则忧其民；处江湖之远则忧其君。是进亦忧，退亦忧。然则何时而乐耶？其必曰：“先天下之忧而忧，后天下之乐而乐”乎。噫！微斯人，吾谁与归？ 　　时六年九月十五日。</article>
            </div>
            
        </div>
        
        
    </div> 
    <script>
        window.onload = function(e){
            console.log(e)
            var page2pBox = document.querySelector('.page2-footer').querySelector('article')
            var page2Input = document.querySelector('.page2-input').querySelector('input');
            var page2Content = document.querySelector('.page2-footer').querySelector('article').innerHTML;
            var page2Button = document.querySelector('.page2-input').querySelector('button');
            page2Button.onclick = function(e){
                // findSearch(page2pBox, page2Input)
                findSearch1(page2pBox, page2Input)
            }
            page2Input.oninput = function(e){
                findSearch1(page2pBox, page2Input)
            }
        }
        function findSearch(htmldiv,inputdiv){
            var value = inputdiv.value
            var arr = htmldiv.innerHTML.split(value);
            var str = `<span style="color:red">${value}</span>`
            var resultstr = arr.join(str);
            htmldiv.innerHTML = resultstr
        }
        function findSearch1(htmldiv, inputdiv){
            
            var value = inputdiv.value;
            var htmlContent = htmldiv.innerText;
            if (!htmlContent.includes(value) || !value) {
                // alert('请重新输入');
                var wrapstr = htmlContent.replace(/\n/g, '<br>')
                htmldiv.innerHTML = wrapstr;
                return;
            }
            var regvalue = new RegExp(`${value}|\n`,'g')
            var str = `<span style="color:red">${value}</span>`;
            var wrapstr = htmlContent.replace(/\n/g,'<br>')
            htmldiv.innerHTML = wrapstr.replace(regvalue,str);
            
        }
    </script>
</body>
</html>